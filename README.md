# Online-car-appiontment-subroutine

uniapp开发的网约车叫车软件
代码层面使用了vue框架，服务端方面则使用的是Unicloud提供的云开发服务端

数据库使用的是MongoDB（语法为更加简洁的JQL）
部分不宜展示在前端的数据处理则是采用Unicloud提供的云函数解决方案进行数据处理

代码功能方面：
一、实现了用户端登录和司机端登录界面
 1.研究并调用微信小程序官方提供的api获取用户openid
 2.分开实现司机和用户的不同登录界面，包含有简单的身份验证
 3.制作出新用户第一次登录时的注册逻辑，并且上传数据至数据库
二、实现用户端打车逻辑
 1.用户端调用腾讯地图提供的api接口实现地图
 2.通过选择初始地和目的地实现打车订单的创建（存储数据库中）
 3.通过对于数据库的访问来进行接单判断并且根据不同情况进行相应处理
三、司机端实现接单逻辑
 1.司机设置三种不同模式，分别对应抢单、下线、派单
  ①下线模式下司机可查看当前正在数据库中的订单，不可接单
  ②抢单模式下可看到订单并且接单
  ③派单模式下服务端会优先给最近（5km以内）司机（采取云函数访问腾讯地图驾车路线矩阵解决方案获取最近司机位置）派单，无人接单则将订单放入订单大厅
 2.司机接单后会实时规划先前往接取乘客，并且通过手机验证来接取乘客
 3.接取乘客后将乘客送往目的地（<10m）订单自动完成

 项目上线方面：
 一、小程序的微信开放平台进行小程序的接口权限设置、版本管理以及开发设置
 二、通过服务端（Unicloud）进行数据处理和数据存储实现整体运行
 三、通过tx地图的开发者控制台来分配路线规划和驾车矩阵的接口调用次数和并发量
